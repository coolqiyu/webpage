<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>3D矩形旋转</title>
	<style type="text/css">
		#cuba{
			width: 100px;
			height: 100px;
			margin: 200px;
			position: relative;
			transform-style: preserve-3d;
			/*perspective: 2000px;*/
			/*animation: rotateCuba 10s infinite;*/
		}
		@keyframes rotateCuba{
			25%{
				transform: rotateY(180deg);
			}
			50%{
				transform: rotateY(360deg);
			}
			75%{
				transform: rotateX(180deg);
			}
			100%{
				transform: rotateX(360deg);
			}
		}
		#cuba div{
			width: 100px;
			height: 100px;
			position: absolute;
		}
		#front{
			background: red;
			transform: translateZ(50px);
		}
		#back{
			background: blue;
			transform: translateZ(-50px);
		}
		#left{
			background: green;
			transform: rotateY(-90deg) translateZ(50px);
		}
		#right{
			background: purple;
			transform: rotateY(90deg) translateZ(50px);
		}
		#top{
			background: yellow;
			transform: rotateX(90deg) translateZ(50px);
		}
		#bottom{
			background: black;
			transform: rotateX(-90deg) translateZ(50px);
		}
	</style>
</head>
<body>
<div id = "cuba">
<div id = 'front'></div>
<div id = 'back'></div>
<div id = 'left'></div>
<div id = 'right'></div>
<div id = 'top'></div>
<div id = 'bottom'></div> 
</div>
<script type="text/javascript">
	var cuba = document.getElementById('cuba');
	var oxDeg = 0, oyDeg = 0;
	document.onmousedown = function(e){
		var oX = e.clientX;
		var oY = e.clientY;
		document.onmousemove = function(e){
				var newX = e.clientX;
				var newY = e.clientY;
				
				var yDeg = (newY - oY) / cuba.clientHeight * 360;
				var xDeg = (newX - oX) / cuba.clientWidth * 360;
				
				oX = newX;
				oY = newY;
				oxDeg += xDeg;
				oyDeg += yDeg;
				
				cuba.style.transform = "rotateX(" + oxDeg + "deg) rotateY(" + oyDeg + "deg)";	
			}
			//这个放置的位置还是有讲究的
				document.onmouseup = function(){
				document.onmousemove = null;
		}
	}
</script>
</body>
</html>